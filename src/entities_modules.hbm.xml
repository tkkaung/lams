<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping >
<!--  /////////////////////////////////Announcement////////////////////////////////// -->	

	<class name="ntu.celt.eUreka2.modules.announcement.Announcement" table="tbl_announcement" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="subject" type="string" />
		<property name="content" type="text" />
		<property name="startDate" type="timestamp" not-null="true"/>
		<property name="endDate" type="timestamp" />
		<property name="urgent" type="boolean" />
		<property name="createDate" type="timestamp" not-null="true"/>
		<property name="modifyDate" type="timestamp" not-null="true"/>
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" column="creatorId" not-null="true" />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project" not-null="true" />
		<property name="enabled" type="boolean" />
		<set name="hasReadUsers" table="tbl_announcement_hasreadusers">
	       <key><column name="anmtId" not-null="true" /></key>
	        <many-to-many column="userId" class="ntu.celt.eUreka2.entities.User" />
	    </set>
	</class>
	
<!-- /////////////////////////////////Forum////////////////////////////////// -->	
	
	<class name="ntu.celt.eUreka2.modules.forum.Forum" table="tbl_forum_forum" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
	
		<property name="name" type="string" />
		<property name="description" type="text" />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project" column="projId" not-null="true" />
		<set name="threads" cascade="all,delete-orphan" inverse="true" order-by="pinned desc , createDate desc">
	       <key><column name="forumId" not-null="true" /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.forum.Thread" />
	    </set>
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User"  not-null="true" />
		<property name="createDate" type="timestamp" />
		<property name="modifyDate" type="timestamp" />
		<property name="anonymousPost" type="boolean" />
	</class>
	
	
	
	<class name="ntu.celt.eUreka2.modules.forum.Thread" table="tbl_forum_thread" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
	
		<property name="name" type="string" not-null="true"/>
		<property name="message" type="text" not-null="true"/>
		<many-to-one name="author" class="ntu.celt.eUreka2.entities.User" not-null="true"/>
		<property name="createDate" type="timestamp" not-null="true"/>
		<property name="modifyDate" type="timestamp" />
		<many-to-one name="forum" class="ntu.celt.eUreka2.modules.forum.Forum" column="forumId"></many-to-one>
		<property name="anonymous" type="boolean"/>
		<property name="pinned" type="boolean"/>
		<set name="replies" cascade="all,delete-orphan" inverse="true" order-by="createDate asc">
            <key column="threadId" not-null="true"/>
            <one-to-many class="ntu.celt.eUreka2.modules.forum.ThreadReply"/>
        </set>
		<property name="type" not-null="true">		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.forum.ThreadType</param>
     	 	</type>
   		</property>
   		<set name="threadUsers" inverse="true" table="tbl_forum_threaduser" cascade="all,delete-orphan">
	       <key>
	       		<column name="threadId" not-null="true" />
	       </key> 
	       <one-to-many class="ntu.celt.eUreka2.modules.forum.ThreadUser" />
	   </set>
	   <list name="attachedFiles"  cascade="all,delete-orphan" >
	       <key>
	       		<column name="thread" not-null="true" />
	       </key> 
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.forum.ForumAttachedFile" />
	   </list>
	   
	</class>
	
	<class name="ntu.celt.eUreka2.modules.forum.ThreadReply" table="tbl_forum_threadreply" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
	
		<property name="name" type="string" not-null="true"/>
		<property name="message" type="text" not-null="true"/>
		<many-to-one name="author" class="ntu.celt.eUreka2.entities.User" not-null="true"/>
		<property name="createDate" type="timestamp" not-null="true"/>
		<property name="modifyDate" type="timestamp" />
		<many-to-one name="parent" class="ntu.celt.eUreka2.modules.forum.ThreadReply" column="parentId"  />
	   <many-to-one name="thread" class="ntu.celt.eUreka2.modules.forum.Thread" column="threadId" />
		<property name="anonymous" type="boolean"/>
		<set name="children" cascade="all,delete-orphan" inverse="true" order-by="createDate asc">
            <key column="parentId"/>
            <one-to-many class="ntu.celt.eUreka2.modules.forum.ThreadReply"/>
        </set>
		<property name="type" not-null="true">		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.forum.ThreadType</param>
     	 	</type>
   	</property>
   	<set name="threadReplyUsers" inverse="true" table="tbl_forum_threadreplyuser" cascade="all,delete-orphan">
	       <key>
	       		<column name="threadReplyId" not-null="true" />
	       </key> 
	       <one-to-many class="ntu.celt.eUreka2.modules.forum.ThreadReplyUser" />
	   </set>
	   <list name="attachedFiles"  cascade="all,delete-orphan" >
	       <key>
	       		<column name="threadReply" not-null="true" />
	       </key> 
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.forum.ForumAttachedFile" />
	   </list>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.forum.ThreadUser" table="tbl_forum_threaduser" >
		<id name="id" type="long" >
			<generator class="native" />
		</id>
		<many-to-one name="thread" class="ntu.celt.eUreka2.modules.forum.Thread" column="threadId" not-null="true" />
		<many-to-one name="user" class="ntu.celt.eUreka2.entities.User" column="userId" not-null="true" />
		<property name="hasRead" type="boolean"/>
		<property name="flagged" type="boolean"/>
		<property name="numView" type="integer"/>
		<property name="modifyDate" type="timestamp"/>
		<property name="rate" >		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.forum.RateType</param>
     	 	</type>
   	</property>
	</class>
	<class name="ntu.celt.eUreka2.modules.forum.ThreadReplyUser" table="tbl_forum_threadreplyuser" >
		<id name="id" type="long" >
			<generator class="native" />
		</id>
		<many-to-one name="threadReply" class="ntu.celt.eUreka2.modules.forum.ThreadReply" column="threadReplyId" not-null="true" />
		<many-to-one name="user" class="ntu.celt.eUreka2.entities.User" column="userId" not-null="true" />
		<property name="rate" >		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.forum.RateType</param>
     	 	</type>
   		</property>
	</class>
	
	
	<class name="ntu.celt.eUreka2.modules.forum.ForumAttachedFile" table="tbl_forum_attachedfile" >
		<id name="id" type="string">
			<generator class="assigned" />
		</id>
		<property name="fileName" type="string"/>
		<property name="aliasName" type="string"/>
		<property name="path" type="string" length="1000"/>
		<property name="contentType" type="string"/>
		<property name="size" type="long"/>
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" column="creatorId"  />
		<many-to-one name="thread" class="ntu.celt.eUreka2.modules.forum.Thread" ></many-to-one>
		<many-to-one name="threadReply" class="ntu.celt.eUreka2.modules.forum.ThreadReply" ></many-to-one>
	</class>
	
<!-- /////////////////////////////////Scheduling////////////////////////////////// -->	
	<class name="ntu.celt.eUreka2.modules.scheduling.Schedule" table="tbl_scheduling_schedule" >
		<id name="id" type="long" >
			<generator class="native" />
		</id>
		<property name="createDate" type="timestamp"/>
		<many-to-one name="user" class="ntu.celt.eUreka2.entities.User" column="userId"></many-to-one>
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project" column="projId"></many-to-one>
		<list name="milestones"  cascade="all,delete-orphan" >
	       <key>
	       		<column name="scheduleId" not-null="true" />
	       </key> 
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.scheduling.Milestone" />
	   </list>
	   <property name="active" type="boolean"/>
		<property name="remarks" type="text"/>
		
	</class>
	
	
	<class name="ntu.celt.eUreka2.modules.scheduling.Milestone" table="tbl_scheduling_milestone" >
		<id name="id" type="long" >
			<generator class="native" />
		</id>
		<property name="name" type="string"/>
		<property name="urgency" not-null="true">		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.scheduling.UrgencyLevel</param>
     	 	</type>
   		</property>
		<property name="comment" type="text"/>
		<property name="deadline" type="date"/>
		<many-to-one name="manager" class="ntu.celt.eUreka2.entities.User" column="userId"></many-to-one>
		<property name="createDate" type="timestamp"/>
		<property name="modifyDate" type="timestamp"/>
		<property name="identifier" type="string"/>
		<many-to-one name="schedule" class="ntu.celt.eUreka2.modules.scheduling.Schedule" column="scheduleId"></many-to-one>
		<list name="tasks"  cascade="all,delete-orphan" >
	       <key>
	       		<column name="milestoneId" not-null="true" />
	       </key> 
	       <list-index column="mtIdx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.scheduling.Task" />
	   </list>
		<list name="phases"  cascade="all,delete-orphan" >
	       <key>
	       		<column name="milestoneId" not-null="true" />
	       </key> 
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.scheduling.Phase" />
	   </list>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.scheduling.Phase" table="tbl_scheduling_phase" >
		<id name="id" type="long" >
			<generator class="native" />
		</id>
		<property name="name" type="string"/>
		<property name="comment" type="text"/>
		<property name="startDate" type="date"/>
		<property name="endDate" type="date"/>
		<many-to-one name="manager" class="ntu.celt.eUreka2.entities.User" column="userId"></many-to-one>
		<property name="createDate" type="timestamp"/>
		<property name="modifyDate" type="timestamp"/>
		<property name="identifier" type="string"/>
		<many-to-one name="milestone" class="ntu.celt.eUreka2.modules.scheduling.Milestone" column="milestoneId"></many-to-one>
		<list name="tasks"  cascade="all,delete-orphan" >
	       <key>
	       		<column name="phaseId" not-null="true" />
	       </key> 
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.scheduling.Task" />
	   </list>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.scheduling.Task" table="tbl_scheduling_task" >
		<id name="id" type="long" >
			<generator class="native" />
		</id>
		<property name="name" type="string"/>
		<property name="urgency" not-null="true">		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.scheduling.UrgencyLevel</param>
     	 	</type>
   		</property>
		<property name="comment" type="text"/>
		<set name="assignedPersons" table="tbl_scheduling_task_assignedperson">
	       <key><column name="taskId" not-null="true" /></key>
	        <many-to-many column="userId" class="ntu.celt.eUreka2.entities.User" />
	    </set>
	    <property name="percentageDone" type="integer"/>
		<property name="startDate" type="date"/>
		<property name="endDate" type="date"/>
		<property name="createDate" type="timestamp"/>
		<property name="modifyDate" type="timestamp"/>
		<property name="completeDate" type="timestamp"/>
		<property name="identifier" type="string"/>
		<many-to-one name="manager" class="ntu.celt.eUreka2.entities.User" column="userId"></many-to-one>
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User"></many-to-one>
		<many-to-one name="phase" class="ntu.celt.eUreka2.modules.scheduling.Phase" column="phaseId"></many-to-one>
		<many-to-one name="milestone" class="ntu.celt.eUreka2.modules.scheduling.Milestone" column="milestoneId"></many-to-one>
		<set name="daysToRemind" table="tbl_scheduling_task_daystoremind">
	       <key><column name="taskId" not-null="true" /></key>
	        <element type="integer" column="daysToRemind"></element>
	    </set>
	    <property name="reminderType" >		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.scheduling.ReminderType</param>
     	 	</type>
   		</property>
	</class>
	
	<!-- /////////////////////////////////Budget////////////////////////////////// -->	
	<class name="ntu.celt.eUreka2.modules.budget.Budget" table="tbl_budget_budget" >
		<id name="id" type="long" >
			<generator class="native" />
		</id>
		<property name="createDate" type="timestamp"/>
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project" column="projId" ></many-to-one>
		<set name="transactions" cascade="all,delete-orphan" inverse="true" order-by="transactDate asc">
	       <key><column name="budgetId" not-null="true" /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.budget.Transaction" />
	    </set>
		<property name="active" type="boolean"/>
		<property name="remarks" type="text"/>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.budget.Transaction" table="tbl_budget_transaction" >
		<id name="id" type="long" >
			<generator class="native" />
		</id>
		<property name="description" type="string"  length="1000"/>
		<property name="category" type="string"/>
		<property name="transactDate" type="date"/>
		<property name="createDate" type="timestamp"/>
		<property name="modifyDate" type="timestamp"/>
		<property name="amount" type="double"/>
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" column="userId"></many-to-one>
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" column="editorId"></many-to-one>
		<many-to-one name="budget" class="ntu.celt.eUreka2.modules.budget.Budget" column="budgetId"></many-to-one>
		<property name="type" not-null="true">		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.budget.TransactionType</param>
     	 	</type>
   	</property>
		<property name="status" not-null="true">		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.budget.TransactionStatus</param>
     	 	</type>
   	</property>
   	<property name="remarks" type="text"/>
   	<list name="attachedFiles"  cascade="all,delete-orphan" >
	       <key>
	       		<column name="transactId" not-null="true" />
	       </key> 
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.budget.TransactionAttachedFile" />
	   </list>
	</class>
	<class name="ntu.celt.eUreka2.modules.budget.TransactionAttachedFile" table="tbl_budget_transaction_attachedfile" >
		<id name="id" type="string">
			<generator class="assigned" />
		</id>
		<property name="fileName" type="string"/>
		<property name="aliasName" type="string"/>
		<property name="path" type="string" length="1000"/>
		<property name="contentType" type="string"/>
		<property name="size" type="long"/>
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" column="creatorId"  />
		<many-to-one name="transact" column="transactId" class="ntu.celt.eUreka2.modules.budget.Transaction" ></many-to-one>
	</class>
	
	
	<!-- /////////////////////////////////Message////////////////////////////////// -->	
	
	<class name="ntu.celt.eUreka2.modules.message.Message" table="tbl_message" >
		<id name="id" type="long" >
			<generator class="native" />
		</id>
		<property name="subject" type="string"/>
		<property name="content" type="text"/>
		<property name="createDate" type="timestamp"/>
		<property name="sendDate" type="timestamp"/>
		<property name="deleteDate" type="timestamp"/>
		<many-to-one name="sender" class="ntu.celt.eUreka2.entities.User" column="senderId"></many-to-one>
		<many-to-one name="owner" class="ntu.celt.eUreka2.entities.User" column="ownerId"></many-to-one>
		<set name="recipients" table="tbl_message_recipients">
	       <key><column name="messageId" not-null="true" /></key>
	        <many-to-many column="userId" class="ntu.celt.eUreka2.entities.User" />
	    </set>
	    <set name="externalEmails" table="tbl_message_extemail">
	       <key><column name="messageId" not-null="true" /></key>
	        <element type="string" column="extEmail"></element>
	    </set>
		<property name="flag" type="boolean"/>
		<property name="hasRead" type="boolean"/>
		<property name="type" not-null="true" >		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.message.MessageType</param>
     	 	</type>
   	</property>
   	<many-to-one name="proj" class="ntu.celt.eUreka2.entities.Project" column="projId"></many-to-one>
	</class>
   
   <class name="ntu.celt.eUreka2.services.email.EmailTemplate" table="tbl_emailtemplate" >
		<id name="id" type="long" >
			<generator class="native" />
		</id>
		<property name="type" type="string" index="index_type"/>
		<property name="description" type="text"/>
		<property name="language" type="string"/>
		<property name="subject" type="string"/>
		<property name="content" type="text"/>
		<property name="modifyDate" type="timestamp"/>
	</class>
   	

<!-- ///////////////////////////Backup - Restore - Migrate//////////////////////////////////// -->	
   	
   <class name="ntu.celt.eUreka2.modules.backuprestore.BackupEntry" table="tbl_backup_entry" >
		<id name="id" type="string">
			<generator class="assigned" />
		</id>
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" column="userId"  />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project" column="projId"  />
		<property name="createDate" type="timestamp" />
		<one-to-one name="attachedFile" class="ntu.celt.eUreka2.modules.backuprestore.BackupAttachedFile" cascade="all" />
		<property name="remarks" type="text" />
		<list name="succeededBackups" table="tbl_backup_backedupmodule"  >
	       <key>
	       		<column name="backupId" not-null="true" />
	       </key> 
	       <list-index column="idx" />
	       <element column="moduleNanme" type="string"/>
	     </list>
	</class>
	<class name="ntu.celt.eUreka2.modules.backuprestore.BackupAttachedFile" table="tbl_backup_attachedfile" >
		<id name="id" type="string">
            <generator class="foreign">
                <param name="property">backupEntry</param>
            </generator>
        </id>
     	<one-to-one name="backupEntry" class="ntu.celt.eUreka2.modules.backuprestore.BackupEntry"  constrained="true"></one-to-one>
  		<property name="fileName" type="string"/>
		<property name="aliasName" type="string"/>
		<property name="path" type="string"  length="1000"/>
		<property name="contentType" type="string"/>
		<property name="size" type="long"/>
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" column="creatorId"  />
	 </class>
	 
   <class name="ntu.celt.eUreka2.modules.backuprestore.MigratedProjInfo" table="tbl_backup_migrate_migratedprojinfo" >
		<id name="eureka2ProjId" type="string">
            <generator class="assigned" />
       </id>
      <property name="eureka1ProjId" type="string" index="index_eureka1projId"/>
		<property name="creatorUsername" type="string" index="index_username"/>
		<property name="createDate" type="timestamp" />
		<property name="remark" type="text"/>
	 </class>
   	
   	
<!-- ///////////////////////////Learning Log//////////////////////////////////// -->	
   <class name="ntu.celt.eUreka2.modules.learninglog.LogEntry" table="tbl_learninglog_logentry">
	    <id name="id" type="long">
	        <generator class="hilo" />
	    </id>
	   <property name="title" type="string" />
	   <property name="content" type="text" />
	   <property name="type" type="string" />
	   <many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" not-null="true" />
	   <many-to-one name="project" class="ntu.celt.eUreka2.entities.Project"  />
		<property name="cdate" type="timestamp" />
	   <property name="mdate" type="timestamp" />
	   <property name="shared" type="boolean" />
	   <property name="forumThreadId" type="long" />
	   <property name="blogId" type="string" />
	   <property name="elogId" type="string" />
	   
	   <list name="files"  cascade="all,delete-orphan" >
	       <key>
	       		<column name="logEntry" not-null="true" />
	       </key> 
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.learninglog.LLogFile" />
	   </list>
	   
	</class>
  
   <class name="ntu.celt.eUreka2.modules.learninglog.LLogFile" table="tbl_learninglog_file" >
		<id name="id" type="string">
			<generator class="assigned" />
		</id>
		<property name="fileName" type="string"/>
		<property name="aliasName" type="string"/>
		<property name="path" type="string" length="1000"/>
		<property name="contentType" type="string"/>
		<property name="size" type="long"/>
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" column="creatorId"  />
		<many-to-one name="logEntry" class="ntu.celt.eUreka2.modules.learninglog.LogEntry" ></many-to-one>
	</class>
   	
   	
<!-- ///////////////////////////elog/////////////////////////////////// -->   
   <class name="ntu.celt.eUreka2.modules.elog.Elog" table="tbl_elog">
		<id name="id" type="string">
			<generator class="assigned" />
		</id>
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project" not-null="true" />
		<many-to-one name="author" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" />
		<property name="subject" type="string" />
		<property name="content" type="text"  />
		<property name="status" >
			<type name="org.hibernate.type.EnumType">
				<param name="enumClass">ntu.celt.eUreka2.modules.elog.ElogStatus</param>
			</type>
		</property>
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp"  />
		<property name="ip" type="string" />
		<property name="remarks" type="text"  />
		<list name="comments"  cascade="all,delete-orphan">
	       <key>
	         <column name="elogid" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.elog.ElogComment" />
	   </list>
		<list name="files"  cascade="all,delete-orphan">
	       <key>
	         <column name="elogid" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.elog.ElogFile" />
	   </list>
	   <property name="published" type="boolean"  />
	</class>
   <class name="ntu.celt.eUreka2.modules.elog.ElogFile" table="tbl_elog_file" >
		<id name="id" type="string">
			<generator class="assigned" />
		</id>
		<property name="fileName" type="string"/>
		<property name="aliasName" type="string"/>
		<property name="path" type="string" length="1000"/>
		<property name="contentType" type="string"/>
		<property name="size" type="long"/>
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" column="creatorId"  />
		<many-to-one name="elog" class="ntu.celt.eUreka2.modules.elog.Elog" column="elogid"></many-to-one>
	</class>
	<class name="ntu.celt.eUreka2.modules.elog.ElogComment" table="tbl_elog_comment" >
		<id name="id" type="integer" >
			<generator class="hilo" />
		</id>
		<many-to-one name="elog" class="ntu.celt.eUreka2.modules.elog.Elog" column="elogid"></many-to-one>
		<property name="subject" type="string"  />
		<property name="content" type="text"  />
		<many-to-one name="author" class="ntu.celt.eUreka2.entities.User" column="userid"  not-null="true" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="disabled" type="boolean"  />
		<property name="ip" type="string" />
		<property name="remarks" type="string" length="1000"/>
	</class>
   	
   	
<!-- /////////////////////////////////Assessment////////////////////////////////// -->	   	
   	<class name="ntu.celt.eUreka2.modules.assessment.Rubric" table="tbl_assessment_rubric">
		<id name="id" type="integer" >
			<generator class="hilo" />
		</id>
		<property name="name" type="string" />
		<property name="des" type="text" />
		<many-to-one name="owner" class="ntu.celt.eUreka2.entities.User"  />
		<property name="shared" type="boolean" />
		<property name="master" type="boolean" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="gmat" type="boolean" />
		<many-to-one name="school" class="ntu.celt.eUreka2.entities.School"  />
		<list name="criterias" cascade="all,delete-orphan" >
	       <key>
	         <column name="rubric" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.assessment.RubricCriteria" />
	   </list>
	   
	   
	   <property name="useCmtStrength" type="boolean" />
	   <property name="useCmtWeakness" type="boolean" />
	   <property name="useCmtOther" type="boolean" />
	   <property name="cmtStrength" type="string" />
	   <property name="cmtWeakness" type="string" />
	   <property name="cmtOther" type="string" />
	   <list name="openEndedQuestions" cascade="all,delete-orphan"  >
	       <key>
	         <column name="rubric" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <element column="question" type="text"/>
	   </list>
	   
	</class>
	<class name="ntu.celt.eUreka2.modules.assessment.RubricCriteria" table="tbl_assessment_rubric_criteria" >
		<id name="id" type="integer" >
			<generator class="hilo" />
		</id>
		<property name="name" type="text"  />
		<property name="des" type="text" />
		<property name="weightage" type="integer" />
		<many-to-one name="rubric" class="ntu.celt.eUreka2.modules.assessment.Rubric" />
		<list name="criterions" cascade="all,delete-orphan" >
	       <key>
	         <column name="criteria" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.assessment.RubricCriterion" />
	   </list>
	</class>
	<class name="ntu.celt.eUreka2.modules.assessment.RubricCriterion" table="tbl_assessment_rubric_criterion" >
		<id name="id" type="long" >
			<generator class="hilo" />
		</id>
		<property name="score" type="integer"  />
		<property name="des" type="text" />
		<many-to-one name="criteria" class="ntu.celt.eUreka2.modules.assessment.RubricCriteria" />
	</class>
	
	
	
	
	
   <class name="ntu.celt.eUreka2.modules.assessment.Assessment" table="tbl_assessment">
		<id name="id" type="integer" >
			<generator class="hilo" />
		</id>
		<property name="shortName" type="string" />
		<property name="name" type="string" />
		<property name="des" type="text" />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project"  not-null="true" />
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="sdate" type="date" />
		<property name="edate" type="date" />
		<property name="rdate" type="date" />
		<property name="orderNumber" type="integer" />
		<property name="allowViewGradeCriteria" type="boolean" />
		<property name="allowViewScoredCriteria" type="boolean" />
		<property name="allowViewGrade" type="boolean" />
		<property name="allowViewGradeDetail" type="boolean" />
		<property name="allowSubmitFile" type="boolean" />
		<property name="allowViewComment" type="boolean" />
		<property name="allowReleaseResult" type="boolean" />
		<property name="allowViewCommentRightAway" type="boolean" />
		<property name="possibleScore" type="integer" />
		<property name="weightage" type="float" />
	    <many-to-one name="group" column="groupId" class="ntu.celt.eUreka2.modules.group.Group"  />
		<many-to-one name="rubric" class="ntu.celt.eUreka2.modules.assessment.Rubric" />
		<list name="criterias"  cascade="all,delete-orphan" >
	       <key>
	         <column name="assessment" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.assessment.AssessCriteria" />
	   </list>
	   <list name="assmtUsers"  cascade="all,delete-orphan" >
	       <key>
	         <column name="assessment" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.assessment.AssessmentUser" />
	   </list>
	   <property name="gmat" type="boolean" />
	       
	</class>
	
	<class name="ntu.celt.eUreka2.modules.assessment.AssessCriteria" table="tbl_assessment_criteria" >
		<id name="id" type="integer">
			<generator class="hilo" />
		</id>
		<property name="name" type="text" />
		<property name="des" type="text"  />
		<property name="weightage" type="integer" />
		<many-to-one name="assessment" class="ntu.celt.eUreka2.modules.assessment.Assessment" column="assessment" />
		<list name="criterions"  cascade="all,delete-orphan" >
	       <key>
	         <column name="criteria" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many  class="ntu.celt.eUreka2.modules.assessment.AssessCriterion" />
	   </list>
	</class>
	<class name="ntu.celt.eUreka2.modules.assessment.AssessCriterion" table="tbl_assessment_criterion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="score" type="integer"  />
		<property name="des" type="text" />
		<many-to-one name="criteria"  class="ntu.celt.eUreka2.modules.assessment.AssessCriteria" column="criteria" />
	</class>
	
	<class name="ntu.celt.eUreka2.modules.assessment.AssmtUserCriteriaGrade" table="tbl_assessment_assmtusercriteriagrade" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="score" type="float"  />
		<property name="comment" type="text" />
		<many-to-one name="criteria" class="ntu.celt.eUreka2.modules.assessment.AssessCriteria" column="criteria" />
	</class>
	
	<class name="ntu.celt.eUreka2.modules.assessment.AssessmentUser" table="tbl_assessment_assessmentuser" >
		<id name="id" type="long" >
			<generator class="hilo" />
		</id>
		<many-to-one name="assessor" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="assessee" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="assessment" class="ntu.celt.eUreka2.modules.assessment.Assessment" />
		
		<property name="assessedDate" type="timestamp" />
		<property name="totalScore" type="float" />
		<property name="totalGrade" type="string" />
		<list name="selectedCriterions" table="tbl_assessment_assessmentuser_criterion" cascade="all" >
	       <key>
	         <column name="assmtuser" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <many-to-many class="ntu.celt.eUreka2.modules.assessment.AssessCriterion" column="criterion"/>
	   </list>
	   <list name="selectedGMATHL" table="tbl_assessment_assessmentuser_gmathl" cascade="all" >
	       <key>
	         <column name="assmtuser" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <element column="gmat_hl" type="string" />
	   </list>
	   <list name="selectedCritGrades" table="tbl_assessment_assessmentuser_criteriagrade" cascade="all" >
	       <key>
	         <column name="assmtuser" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <many-to-many class="ntu.celt.eUreka2.modules.assessment.AssmtUserCriteriaGrade" column="criteriagrade" />
	   </list>
	   <property name="comments" type="text"/>
	   <property name="studentViewComments" type="boolean"/>
	
	   <list name="files"  cascade="all,delete-orphan">
	       <key>
	         <column name="assmtUserId" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.assessment.AssmtFile" />
	   </list>
	   <list name="instructorFiles"  cascade="all,delete-orphan">
	       <key>
	         <column name="assmtUserId" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.assessment.AssmtInstructorFile" />
	   </list>
	   <list name="assesseeViewTimes" cascade="all,delete-orphan" table="tbl_assessment_assessmentuser_viewtime"  >
	       <key>
	         <column name="assmtUser" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <element column="viewtime" type="timestamp"/>
	   </list>
	</class>
	<class name="ntu.celt.eUreka2.modules.assessment.AssmtFile" table="tbl_assessment_file" >
		<id name="id" type="string">
			<generator class="assigned" />
		</id>
		<property name="fileName" type="string"/>
		<property name="aliasName" type="string"/>
		<property name="path" type="string" length="1000"/>
		<property name="contentType" type="string"/>
		<property name="size" type="long"/>
		<property name="uploadTime" type="timestamp" />
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" column="creatorId"  />
		<many-to-one name="assmtUser" class="ntu.celt.eUreka2.modules.assessment.AssessmentUser" column="assmtUserId"></many-to-one>
	</class>
	<class name="ntu.celt.eUreka2.modules.assessment.AssmtInstructorFile" table="tbl_assessment_Instructorfile" >
		<id name="id" type="string">
			<generator class="assigned" />
		</id>
		<property name="fileName" type="string"/>
		<property name="aliasName" type="string"/>
		<property name="path" type="string" length="1000"/>
		<property name="contentType" type="string"/>
		<property name="size" type="long"/>
		<property name="uploadTime" type="timestamp" />
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" column="creatorId"  />
		<many-to-one name="assmtUser" class="ntu.celt.eUreka2.modules.assessment.AssessmentUser" column="assmtUserId"></many-to-one>
	</class>
		

	
 <!-- //////////////////////////////Resource2 (with versioning)//////////////////////////////////// -->
	<class name="ntu.celt.eUreka2.modules.resources.Resource" table="tbl_resource_resource">
		<id name="id" type="string" column="resourceId">
			<generator class="assigned" />
		</id>
		<property name="name" type="string" index="index_name" />
		<property name="des" type="text"/>
		<many-to-one name="owner" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="shared" type="boolean" />
		<many-to-one name="proj" class="ntu.celt.eUreka2.entities.Project" not-null="true" />
		<many-to-one name="parent" class="ntu.celt.eUreka2.modules.resources.ResourceFolder" />
		<property name="type" index="index_type">
			<type name="org.hibernate.type.EnumType">
				<param name="enumClass">ntu.celt.eUreka2.modules.resources.ResourceType</param>
			</type>
		</property>
		
		<joined-subclass name="ntu.celt.eUreka2.modules.resources.ResourceFolder" table="tbl_resource_folder">
			<key column="resourceId"/>
			<set name="children" table="tbl_resource_resource">
	        <key><column name="parent" /></key>
	        <one-to-many class="ntu.celt.eUreka2.modules.resources.Resource" />
	    	</set>
		</joined-subclass>
		<joined-subclass name="ntu.celt.eUreka2.modules.resources.ResourceLink" table="tbl_resource_link">
			<key column="resourceId"/>
			<property name="url" type="string" length="1000" />
		</joined-subclass>
		<joined-subclass name="ntu.celt.eUreka2.modules.resources.ResourceFile" table="tbl_resource_file">
			<key column="resourceId"/>
			<many-to-one name="lockedBy" class="ntu.celt.eUreka2.entities.User" />
			<list name="fileVersions" cascade="all,delete-orphan"  >
		       <key>
		         <column name="resrcFileId"  />
		       </key>
		       <list-index column="idx" />
		       <one-to-many class="ntu.celt.eUreka2.modules.resources.ResourceFileVersion" />
		   </list>
		</joined-subclass>
	</class>
	<class name="ntu.celt.eUreka2.modules.resources.ResourceFileVersion" table="tbl_resource_fileversion">
		<id name="id" type="string">
			<generator class="assigned" />
		</id>
		<property name="name" type="string" index="index_name" />
		<property name="cmmt" type="text" />
		<many-to-one name="owner" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<property name="cdate" type="timestamp" />
		<many-to-one name="rfile" class="ntu.celt.eUreka2.modules.resources.ResourceFile" column="resrcFileId"/>
		<property name="version" type="integer"  />
		<property name="contentType" type="string"  />
		<property name="size" type="long"  />
		<property name="path" type="string" length="1000" />
		<property name="numDownload" type="integer"  />
	</class>
   	


   	
   	
   	
<!-- /////////////////////////////////////////////////////////////////// -->	
<!-- added by Chen Rui -->	
	<!-- ////////////resource, first version/////////
	<class name="ntu.celt.eUreka2.modules.resources.Resource" table="tbl_resource">
		<id name="id" type="string">
			<generator class="uuid" />
		</id>
		<many-to-one name="proj" class="ntu.celt.eUreka2.entities.Project" column="projid" not-null="true" />
		<many-to-one name="parent" class="ntu.celt.eUreka2.modules.resources.Resource" />
		<property name="name" type="string"  />
		<property name="type" >
			<type name="org.hibernate.type.EnumType">
				<param name="enumClass">ntu.celt.eUreka2.modules.resources.ResourceType</param>
			</type>
		</property>
		<property name="content" type="string" />
		<property name="path" type="string"  length="1000"/>
		<property name="des" type="string" column="description"  length="1000"/>
		<many-to-one name="owner" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="shared" type="boolean" />
		<property name="size" type="long" />
		<property name="version" type="integer" />
		<property name="ip" type="string"  />
		<property name="remarks" type="text"  />
		<property name="numDownload" type="integer" not-null="true"/>
	</class>
	 -->
	
	<class name="ntu.celt.eUreka2.modules.blog.Blog" table="tbl_blog">
		<id name="id" type="string">
			<generator class="assigned" />
		</id>
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project" column="projectid" not-null="true" />
		<many-to-one name="author" class="ntu.celt.eUreka2.entities.User" column="userid"  not-null="true" />
		<property name="subject" type="string" />
		<property name="content" type="text"  />
		<property name="status" >
			<type name="org.hibernate.type.EnumType">
				<param name="enumClass">ntu.celt.eUreka2.modules.blog.BlogStatus</param>
			</type>
		</property>
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp"  />
		<property name="shared" type="boolean"   />
		<property name="ip" type="string" />
		<property name="remarks" type="string" length="1000" />
		<list name="comments"  cascade="all,delete-orphan">
	       <key>
	         <column name="blogid" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.blog.BlogComment" />
	   	</list>
		<list name="attaches"  cascade="all,delete-orphan">
	       <key>
	         <column name="blogid" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.blog.BlogFile" />
	   </list>
	   <set name="tags" table="tbl_blog_tag" cascade="all,delete-orphan" >
	       <key><column name="blogid" not-null="true"  /></key>
	       <element type="string" column="tagName" ></element>
	    </set>
	</class>
	<class name="ntu.celt.eUreka2.modules.blog.BlogFile" table="tbl_blog_file" >
		<id name="id" type="string">
			<generator class="assigned" />
		</id>
		<property name="fileName" type="string"/>
		<property name="aliasName" type="string"/>
		<property name="path" type="string"/>
		<property name="contentType" type="string"/>
		<property name="size" type="long"/>
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" column="creatorId"  />
		<many-to-one name="blog" class="ntu.celt.eUreka2.modules.blog.Blog" column="blogid"></many-to-one>
	</class>
	<class name="ntu.celt.eUreka2.modules.blog.BlogComment" table="tbl_blog_comment" >
		<id name="id" type="integer" >
			<generator class="hilo" />
		</id>
		<many-to-one name="blog" class="ntu.celt.eUreka2.modules.blog.Blog" column="blogid"></many-to-one>
		<property name="subject" type="string"  />
		<property name="content" type="text"  />
		<many-to-one name="author" class="ntu.celt.eUreka2.entities.User" column="userid"  not-null="true" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="disabled" type="boolean"  />
		<property name="ip" type="string" />
		<property name="remarks" type="string" />
	</class>
	
<!-- added by Chen Rui -->	

<!-- Somsak 2013-01-21 ...Start  -->
<!-- /////////////////////////////////Project Group////////////////////////////////// -->	
	
	<class name="ntu.celt.eUreka2.modules.group.Group" table="tbl_group_project" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="groupType" type="string" />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project" column="projId" not-null="true" />
		<list name="groupUsers"  cascade="all,delete-orphan" >
	       <key >
	         <column name="groupId" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.group.GroupUser" />
	   </list>
	   
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User"  not-null="true" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="allowSelfEnroll" type="boolean" />
		<property name="maxPerGroup" type="integer" />
		<property name="bbID" type="string" />
		
	</class>

	<class name="ntu.celt.eUreka2.modules.group.GroupUser" table="tbl_group_user" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="groupNum" type="integer"/>
		<property name="groupNumName" type="string"/>
		<property name="bbID" type="string" />
		
		<many-to-one name="group" class="ntu.celt.eUreka2.modules.group.Group" column="groupId"></many-to-one>
	   <list name="users" table="tbl_group_groupUser_user"  >
	       <key>
	         <column name="groupUser" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <many-to-many class="ntu.celt.eUreka2.entities.User" column="userId"/>
	   </list>
	   <many-to-one name="tutor" class="ntu.celt.eUreka2.entities.User"   />
	</class>
<!-- Somsak 2013-01-21 ...End  -->



<!-- Somsak 2013-02-05 ...Start  -->
<!-- /////////////////////////////////Peer Evaluation////////////////////////////////// -->	
	
   <class name="ntu.celt.eUreka2.modules.peerevaluation.Evaluation" table="tbl_evaluation">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<property name="des" type="text" />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project"  not-null="true" />
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="sdate" type="date" />
		<property name="edate" type="date" />
		<!-- <property name="rdate" type="date" /> --> 
		<property name="released" type="boolean" />
		<property name="orderNumber" type="integer" />
		<property name="reminderLaunch" type="boolean" />
		<property name="allowSelfEvaluation" type="boolean" />
		<property name="allowViewScoredCriteria" type="boolean" />
		<property name="allowViewGrade" type="boolean" />
		<property name="allowViewGradeDetail" type="boolean" />
		<property name="allowViewGradeDetailPeer" type="boolean" />
		<property name="weightage" type="float" />
		<property name="customNameCmtStrength" type="string" />
		<property name="customNameCmtWeakness" type="string" />
		<property name="customNameCmtOther" type="string" />
		<property name="useCmtStrength" type="boolean" />
	   <property name="useCmtWeakness" type="boolean" />
	   <property name="useCmtOther" type="boolean" />

	   <property name="useFixedPoint" type="boolean" />
	   <property name="totalFixedPoint" type="integer" />
	   <property name="totalFixedPoint3" type="integer" />
	   <property name="totalFixedPoint4" type="integer" />
	   <property name="totalFixedPoint5" type="integer" />
	   <property name="totalFixedPoint6" type="integer" />
	   <property name="totalFixedPoint7" type="integer" />
	   <property name="totalFixedPoint8" type="integer" />
	   <property name="totalFixedPoint9" type="integer" />
	   <property name="totalFixedPoint10" type="integer" />

	   <many-to-one name="group" column="groupId" class="ntu.celt.eUreka2.modules.group.Group"  />
		<many-to-one name="rubric" class="ntu.celt.eUreka2.modules.assessment.Rubric" />
		<list name="criterias"  cascade="all,delete-orphan" >
	       <key>
	         <column name="Evaluation" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.peerevaluation.EvaluationCriteria" />
	   </list>
	   
	   <list name="openEndedQuestions" cascade="all,delete-orphan" table="tbl_evaluation_openquestion"  >
	       <key>
	         <column name="eval" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <element column="question" type="text"/>
	   </list>
	   <list name="evalAssesseeViews" cascade="all,delete-orphan">
	       <key>
	         <column name="evaluation" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.peerevaluation.EvalAssesseeView" />
	    </list>
	   
	   
	  <!--  <list name="evalUsers"  cascade="all,delete-orphan" >
	       <key>
	         <column name="evaluation" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.peerevaluation.EvaluationUser" />
	   </list>
	    -->
	   <set name="evalUsers" cascade="all,delete-orphan">
	       <key>
	         <column name="evaluation" not-null="true" />
	       </key>
	       <one-to-many class="ntu.celt.eUreka2.modules.peerevaluation.EvaluationUser" />
	    </set>
	   <set name="daysToRemind" table="tbl_evaluation_daystoremind">
	       <key><column name="evalId" not-null="true" /></key>
	        <element type="integer" column="daysToRemind"></element>
	    </set>
	    <set name="daysToRemindInstructor" table="tbl_evaluation_daystoremindInstructor">
	       <key><column name="evalId" not-null="true" /></key>
	        <element type="integer" column="daysToRemindInstructor"></element>
	    </set>
	</class>
	
	
	
	
	<class name="ntu.celt.eUreka2.modules.peerevaluation.EvaluationCriteria" table="tbl_evaluation_criteria" >
		<id name="id" type="long">
			<generator class="assigned" />
		</id>
		<property name="name" type="text" />
		<property name="des" type="text"  />
		<property name="weightage" type="integer" />
		<many-to-one name="evaluation" class="ntu.celt.eUreka2.modules.peerevaluation.Evaluation" column="evaluation" />
		<list name="criterions" cascade="all,delete-orphan" >
	       <key>
	         <column name="criteria" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.peerevaluation.EvaluationCriterion" />
	   </list>
	</class>
	
	
	
	<class name="ntu.celt.eUreka2.modules.peerevaluation.EvaluationCriterion" table="tbl_evaluation_criterion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="score" type="integer"  />
		<property name="des" type="text" />
		<many-to-one name="criteria" class="ntu.celt.eUreka2.modules.peerevaluation.EvaluationCriteria" column="criteria" />
	</class>
	
	<class name="ntu.celt.eUreka2.modules.peerevaluation.EvaluationUser" table="tbl_evaluation_evaluationUser" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<many-to-one name="assessor" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="assessee" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="editedPerson" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="evaluation" class="ntu.celt.eUreka2.modules.peerevaluation.Evaluation" />
		<property name="assessedDate" type="timestamp" />
		<property name="editedDate" type="timestamp" />
		<list name="selectedCriterions" table="tbl_evaluation_evaluationuser_criterion" cascade="all" >
	       <key>
	         <column name="evaluser" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <many-to-many class="ntu.celt.eUreka2.modules.peerevaluation.EvaluationCriterion" column="criterion"/>
	   </list>
	   <list name="selectedCriterionsByLeader" table="tbl_evaluation_evaluationuser_criterionLeader" cascade="all" >
	       <key>
	         <column name="evaluser" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <many-to-many class="ntu.celt.eUreka2.modules.peerevaluation.EvaluationCriterion" column="criterion"/>
	   </list>
	   <property name="cmtStrength" type="text"/>
	   <property name="cmtWeakness" type="text"/>
	   <property name="cmtOther" type="text"/>
	   <property name="editedCmtStrength" type="text"/>
	   <property name="editedCmtWeakness" type="text"/>
	   <property name="editedCmtOther" type="text"/>
	   <property name="submited" type="boolean" />
	   <list name="openEndedQuestionAnswers" cascade="all,delete-orphan" table="tbl_evaluation_evaluationUser_openquestionanswer"  >
	       <key>
	         <column name="evaluser" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <element column="answer" type="text"/>
	   </list>
   
	</class>


	<class name="ntu.celt.eUreka2.modules.peerevaluation.EvalAssesseeView" table="tbl_evaluation_assesseeview" >
		<id name="id" type="long">
			<generator class="assigned" />
		</id>
		<many-to-one name="assessee" class="ntu.celt.eUreka2.entities.User"  />
		<many-to-one name="evaluation" class="ntu.celt.eUreka2.modules.peerevaluation.Evaluation" column="evaluation" />
		<property name="firstGradeViewTime" type="timestamp" />
		<property name="lastGradeViewTime" type="timestamp" />
	</class>
	
<!-- Somsak 2013-02-05 ...End  -->


<!-- Somsak 2016-01-01 ...Start  -->
<!-- /////////////////////////////////Leadership Profiling////////////////////////////////// -->	   	
   	<class name="ntu.celt.eUreka2.modules.profiling.LQuestionSet" table="tbl_profiling_lquestionset">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<property name="des" type="text" />
		<many-to-one name="owner" class="ntu.celt.eUreka2.entities.User"  />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<many-to-one name="school" class="ntu.celt.eUreka2.entities.School"  />
		<list name="questions" cascade="all,delete-orphan" >
	       <key>
	         <column name="questionset" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.profiling.LQuestion" />
	   </list>
	   <property name="questionType" not-null="true">		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.profiling.LQuestionType</param>
     	 	</type>
   		</property>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.profiling.LQuestion" table="tbl_profiling_lquestion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="text" />
		<many-to-one name="questionset" class="ntu.celt.eUreka2.modules.profiling.LQuestionSet" />
		<many-to-one name="dimension" class="ntu.celt.eUreka2.modules.profiling.LDimension" />
		<property name="reverseScore" type="boolean" />
		<property name="number" type="integer" />
		<property name="tenScale" type="boolean" />
	</class>
	<class name="ntu.celt.eUreka2.modules.profiling.ProfileQuestion" table="tbl_profiling_profilequestion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="text" />
		<many-to-one name="dimension" class="ntu.celt.eUreka2.modules.profiling.LDimension" />
		<property name="reverseScore" type="boolean" />
		<property name="number" type="integer" />
		<property name="tenScale" type="boolean" />
	</class>
	
	
	<class name="ntu.celt.eUreka2.modules.profiling.LDimension" table="tbl_profiling_ldimension" >
		<id name="id" type="string" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string"  />
		<property name="des" type="text" />
		<property name="colorCode" type="string"  />
		<property name="orderNum" type="integer"  />
		<property name="active" type="boolean"  />
		<property name="styleGroup" type="string"  />
		<property name="createTime" type="timestamp" />
		
	</class>
	
   <class name="ntu.celt.eUreka2.modules.profiling.Profiling" table="tbl_profiling">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project"  not-null="true" />
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="sdate" type="timestamp" />
		<property name="edate" type="timestamp" />
		<property name="orderNumber" type="integer" />
		<property name="released" type="boolean" />
		
		<many-to-one name="questionSet" class="ntu.celt.eUreka2.modules.profiling.LQuestionSet" />
		<property name="questionSetName" type="string" />
		<list name="questions"  cascade="all,delete-orphan" >
	       <key>
	         <column name="profiling"  />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.profiling.ProfileQuestion" />
	    </list>
	    <set name="profUsers" cascade="all,delete-orphan" >
	       <key><column name="profId" not-null="true" /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.profiling.ProfileUser" />
	    </set>
	    <many-to-one name="group" column="groupId" class="ntu.celt.eUreka2.modules.group.Group"  />
	    <property name="questionType" not-null="true">		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.profiling.LQuestionType</param>
     	 	</type>
   		</property>
   		<set name="daysToRemind" table="tbl_profiling_daystoremind">
	       <key><column name="profilingId" not-null="true" /></key>
	        <element type="integer" column="daysToRemind"></element>
	    </set>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.profiling.QuestionScore" table="tbl_profiling_questionscore" >
		<id name="id" type="string" >
			<generator class="assigned" />
		</id>
		<many-to-one name="question" column="questionId" class="ntu.celt.eUreka2.modules.profiling.ProfileQuestion"  />
		<property name="score" type="integer"  />
		<property name="orderNum" type="integer"  />
		<many-to-one name="profUser" column="profUserId" class="ntu.celt.eUreka2.modules.profiling.ProfileUser"  />
	</class>
	
	  
	
	<class name="ntu.celt.eUreka2.modules.profiling.ProfileUser" table="tbl_profiling_profileuser" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<many-to-one name="assessor" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="assessee" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="profile" class="ntu.celt.eUreka2.modules.profiling.Profiling" column="profId" />
		<property name="startAssessTime" type="timestamp" />
		<property name="lastAssessTime" type="timestamp" />
		<property name="finished" type="boolean"/>
	    <property name="lastQuestionNum" type="integer"/>
	    <property name="resetCount" type="integer"/>
	   	<set name="questionScores" cascade="all,delete-orphan" order-by="orderNum">
	       <key><column name="profUserId"  /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.profiling.QuestionScore" />
	    </set>
	</class>

<!-- Somsak 2016-01-01 ...End  -->


<!-- Somsak 2016-12-26 ...Start  -->
<!-- /////////////////////////////////LCDP Leadership Competency Development Platform////////////////////////////////// -->	   	
   	<class name="ntu.celt.eUreka2.modules.lcdp.PQuestionSet" table="tbl_lcdp_pquestionset">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<property name="des" type="text" />
		<many-to-one name="owner" class="ntu.celt.eUreka2.entities.User"  />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<many-to-one name="school" class="ntu.celt.eUreka2.entities.School"  />
		<list name="questions" cascade="all,delete-orphan" >
	       <key>
	         <column name="questionset" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.lcdp.PQuestion" />
	   </list>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.lcdp.PQuestion" table="tbl_lcdp_pquestion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="string" />
		<many-to-one name="questionset" class="ntu.celt.eUreka2.modules.lcdp.PQuestionSet" />
		<property name="number" type="integer" />
		<property name="dimLeadership" type="boolean" />
		<property name="dimManagement" type="boolean" />
		<property name="dimCommand" type="boolean" />
	</class>
	<class name="ntu.celt.eUreka2.modules.lcdp.LCDPQuestion" table="tbl_lcdp_lcdpquestion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="string" />
		<property name="number" type="integer" />
		<property name="dimLeadership" type="boolean" />
		<property name="dimManagement" type="boolean" />
		<property name="dimCommand" type="boolean" />
	</class>
	
	
	
   <class name="ntu.celt.eUreka2.modules.lcdp.LCDPSurvey" table="tbl_lcdp_survey">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project"  not-null="true" />
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="sdate" type="timestamp" />
		<property name="edate" type="timestamp" />
		<property name="orderNumber" type="integer" />
		<property name="released" type="boolean" />
		
		<many-to-one name="questionSet" class="ntu.celt.eUreka2.modules.lcdp.PQuestionSet" />
		<property name="questionSetName" type="string" />
		<list name="questions"  cascade="all,delete-orphan" >
	       <key>
	         <column name="lcdp"  />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.lcdp.LCDPQuestion" />
	    </list>
	    <set name="lcdpUsers" cascade="all,delete-orphan" >
	       <key><column name="lcdpId" not-null="true" /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.lcdp.LCDPSurveyUser" />
	    </set>
   		<set name="daysToRemind" table="tbl_lcdp_daystoremind">
	       <key><column name="lcdpId" not-null="true" /></key>
	        <element type="integer" column="daysToRemind"></element>
	    </set>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.lcdp.PQuestionScore" table="tbl_lcdp_questionscore" >
		<id name="id" type="string" >
			<generator class="assigned" />
		</id>
		<many-to-one name="question" column="questionId" class="ntu.celt.eUreka2.modules.lcdp.LCDPQuestion"  />
		<property name="score" type="integer"  />
		<property name="orderNum" type="integer"  />
		<many-to-one name="lcdpUser" column="lcdpUserId" class="ntu.celt.eUreka2.modules.lcdp.LCDPSurveyUser"  />
	</class>
	
	  
	
	<class name="ntu.celt.eUreka2.modules.lcdp.LCDPSurveyUser" table="tbl_lcdp_lcdpsurveyuser" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<many-to-one name="assessor" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="assessee" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="survey" class="ntu.celt.eUreka2.modules.lcdp.LCDPSurvey" column="lcdpId" />
		<property name="startAssessTime" type="timestamp" />
		<property name="lastAssessTime" type="timestamp" />
		<property name="finished" type="boolean"/>
	    <property name="lastQuestionNum" type="integer"/>
	    <property name="resetCount" type="integer"/>
	   	<set name="questionScores" cascade="all,delete-orphan" order-by="orderNum">
	       <key><column name="lcdpUserId"  /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.lcdp.PQuestionScore" />
	    </set>
	</class>

<!-- Somsak 2016-12-26 ...End  -->




<!-- Somsak 2017-08-03 ...Start  -->
<!-- /////////////////////////////////CARE Psychometric Survey////////////////////////////////// -->	   	
   	<class name="ntu.celt.eUreka2.modules.care.CQuestionSet" table="tbl_care_cquestionset">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<property name="des" type="text" />
		<many-to-one name="owner" class="ntu.celt.eUreka2.entities.User"  />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<many-to-one name="school" class="ntu.celt.eUreka2.entities.School"  />
		<list name="questions" cascade="all,delete-orphan" >
	       <key>
	         <column name="questionset" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.care.CQuestion" />
	   </list>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.care.CQuestion" table="tbl_care_cquestion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="string" />
		<many-to-one name="questionset" class="ntu.celt.eUreka2.modules.care.CQuestionSet" />
		<property name="number" type="integer" />
		<property name="dimension1" type="string" />
		<property name="dimension2" type="string" />
		<property name="dimension3" type="string" />
		<property name="dimension4" type="string" />
		<property name="dimension5" type="string" />
		<property name="dimension6" type="string" />
		<property name="dimension7" type="string" />
		<property name="dimension8" type="string" />
		<property name="dimension9" type="string" />
		<property name="dimension10" type="string" />
		<property name="dimension11" type="string" />
		<property name="dimension12" type="string" />
		<property name="dimension13" type="string" />
		<property name="dimension14" type="string" />
		<property name="dimension15" type="string" />
		
	</class>
	<class name="ntu.celt.eUreka2.modules.care.CAREQuestion" table="tbl_care_carequestion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="string" />
		<property name="number" type="integer" />
	
		<property name="dimension1" type="string" />
		<property name="dimension2" type="string" />
		<property name="dimension3" type="string" />
		<property name="dimension4" type="string" />
		<property name="dimension5" type="string" />
		<property name="dimension6" type="string" />
		<property name="dimension7" type="string" />
		<property name="dimension8" type="string" />
		<property name="dimension9" type="string" />
		<property name="dimension10" type="string" />
		<property name="dimension11" type="string" />
		<property name="dimension12" type="string" />
		<property name="dimension13" type="string" />
		<property name="dimension14" type="string" />
		<property name="dimension15" type="string" />
		
	</class>
	
	<class name="ntu.celt.eUreka2.modules.care.CDimension" table="tbl_care_cdimension" >
		<id name="id" type="integer" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string"  />
		<property name="des" type="text" />
		<property name="colorCode" type="string"  />
		<property name="orderNum" type="integer"  />
		<property name="active" type="boolean"  />
		<property name="styleGroup" type="string"  />
		<property name="createTime" type="timestamp" />
		
	</class>
	
	<class name="ntu.celt.eUreka2.modules.care.CAREParticular" table="tbl_care_particular" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<many-to-one name="user" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="matricNumber" type="string" />
		<property name="age" type="integer" />
		<property name="gender" type="string" />
		<property name="highestEducation" type="string" />
		<property name="maritalStatus" type="string" />
		<property name="lastLeadershipApppointRank" type="string" />
		<property name="yearsInLeadershipAppointment" type="int" />
		<property name="hasExpInCrisisLeadership" type="boolean" />
		<property name="briefDescriptionOfTheCrisis" type="string" />
	</class>
	
	
   <class name="ntu.celt.eUreka2.modules.care.CARESurvey" table="tbl_care_survey">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project"  not-null="true" />
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="sdate" type="timestamp" />
		<property name="edate" type="timestamp" />
		<property name="orderNumber" type="integer" />
		<property name="released" type="boolean" />
		
		<many-to-one name="questionSet" class="ntu.celt.eUreka2.modules.care.CQuestionSet" />
		<property name="questionSetName" type="string" />
		<list name="questions"  cascade="all,delete-orphan" >
	       <key>
	         <column name="care"  />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.care.CAREQuestion" />
	    </list>
	    <set name="careUsers" cascade="all,delete-orphan" >
	       <key><column name="careId" not-null="true" /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.care.CARESurveyUser" />
	    </set>
   		<set name="daysToRemind" table="tbl_care_daystoremind">
	       <key><column name="careId" not-null="true" /></key>
	        <element type="integer" column="daysToRemind"></element>
	    </set>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.care.CQuestionScore" table="tbl_care_questionscore" >
		<id name="id" type="string" >
			<generator class="assigned" />
		</id>
		<many-to-one name="question" column="questionId" class="ntu.celt.eUreka2.modules.care.CAREQuestion"  />
		<property name="score" type="integer"  />
		<property name="score1" type="integer"  />
		<property name="score2" type="integer"  />
		<property name="score3" type="integer"  />
		<property name="score4" type="integer"  />
		<property name="score5" type="integer"  />
		<property name="score6" type="integer"  />
		<property name="score7" type="integer"  />
		<property name="score8" type="integer"  />
		<property name="score9" type="integer"  />
		<property name="score10" type="integer"  />
		<property name="score11" type="integer"  />
		<property name="score12" type="integer"  />
		<property name="score13" type="integer"  />
		<property name="score14" type="integer"  />
		<property name="score15" type="integer"  />
		<property name="orderNum" type="integer"  />
		<many-to-one name="careUser" column="careUserId" class="ntu.celt.eUreka2.modules.care.CARESurveyUser"  />
	</class>
	
	  
	
	<class name="ntu.celt.eUreka2.modules.care.CARESurveyUser" table="tbl_care_caresurveyuser" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<many-to-one name="assessor" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="assessee" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="survey" class="ntu.celt.eUreka2.modules.care.CARESurvey" column="careId" />
		<property name="startAssessTime" type="timestamp" />
		<property name="lastAssessTime" type="timestamp" />
		<property name="finished" type="boolean"/>
	    <property name="lastQuestionNum" type="integer"/>
	    <property name="resetCount" type="integer"/>
	   	<set name="questionScores" cascade="all,delete-orphan" order-by="orderNum">
	       <key><column name="careUserId"  /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.care.CQuestionScore" />
	    </set>
    	<property name="score1" type="double"  />
		<property name="score2" type="double"  />
		<property name="score3" type="double"  />
		<property name="score4" type="double"  />
		<property name="score5" type="double"  />
		<property name="score6" type="double"  />
		<property name="score7" type="double"  />
		<property name="score8" type="double"  />
		<property name="score9" type="double"  />
		<property name="score10" type="double"  />
		<property name="score11" type="double"  />
		<property name="score12" type="double"  />
		<property name="score13" type="double"  />
		<property name="score14" type="double"  />
		<property name="score15" type="double"  />
	</class>
<!-- Somsak 2017-08-03 ...End  -->


<!-- Somsak 2018-08-12 ...Start  -->
<!-- /////////////////////////////////BIG 5 Personality Survey////////////////////////////////// -->	   	
   	<class name="ntu.celt.eUreka2.modules.big5.BQuestionSet" table="tbl_big5_bquestionset">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<property name="des" type="text" />
		<many-to-one name="owner" class="ntu.celt.eUreka2.entities.User"  />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<many-to-one name="school" class="ntu.celt.eUreka2.entities.School"  />
		<list name="questions" cascade="all,delete-orphan" >
	       <key>
	         <column name="questionset" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.big5.BQuestion" />
	   </list>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.big5.BQuestion" table="tbl_big5_bquestion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="string" />
		<many-to-one name="questionset" class="ntu.celt.eUreka2.modules.big5.BQuestionSet" />
		<property name="number" type="integer" />
		<property name="dimension1" type="string" />
		<property name="dimension2" type="string" />
		<property name="dimension3" type="string" />
		<property name="dimension4" type="string" />
		<property name="dimension5" type="string" />
		
	</class>
	<class name="ntu.celt.eUreka2.modules.big5.BIG5Question" table="tbl_big5_big5question" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="string" />
		<property name="number" type="integer" />
	
		<property name="dimension1" type="string" />
		<property name="dimension2" type="string" />
		<property name="dimension3" type="string" />
		<property name="dimension4" type="string" />
		<property name="dimension5" type="string" />
		
	</class>
	
	<class name="ntu.celt.eUreka2.modules.big5.BDimension" table="tbl_big5_bdimension" >
		<id name="id" type="integer" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string"  />
		<property name="des" type="text" />
		<property name="colorCode" type="string"  />
		<property name="orderNum" type="integer"  />
		<property name="active" type="boolean"  />
		<property name="styleGroup" type="string"  />
		<property name="createTime" type="timestamp" />
		
	</class>
	
	
   <class name="ntu.celt.eUreka2.modules.big5.BIG5Survey" table="tbl_big5_survey">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project"  not-null="true" />
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="sdate" type="timestamp" />
		<property name="edate" type="timestamp" />
		<property name="orderNumber" type="integer" />
		<property name="released" type="boolean" />
		
		<many-to-one name="questionSet" class="ntu.celt.eUreka2.modules.big5.BQuestionSet" />
		<property name="questionSetName" type="string" />
		<list name="questions"  cascade="all,delete-orphan" >
	       <key>
	         <column name="big5"  />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.big5.BIG5Question" />
	    </list>
	    <set name="big5Users" cascade="all,delete-orphan" >
	       <key><column name="big5Id" not-null="true" /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.big5.BIG5SurveyUser" />
	    </set>
   		<set name="daysToRemind" table="tbl_big5_daystoremind">
	       <key><column name="big5Id" not-null="true" /></key>
	        <element type="integer" column="daysToRemind"></element>
	    </set>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.big5.BQuestionScore" table="tbl_big5_questionscore" >
		<id name="id" type="string" >
			<generator class="assigned" />
		</id>
		<many-to-one name="question" column="questionId" class="ntu.celt.eUreka2.modules.big5.BIG5Question"  />
		<property name="score" type="integer"  />
		<property name="score1" type="integer"  />
		<property name="score2" type="integer"  />
		<property name="score3" type="integer"  />
		<property name="score4" type="integer"  />
		<property name="score5" type="integer"  />
		<property name="orderNum" type="integer"  />
		<many-to-one name="big5User" column="big5UserId" class="ntu.celt.eUreka2.modules.big5.BIG5SurveyUser"  />
	</class>
	
	  
	
	<class name="ntu.celt.eUreka2.modules.big5.BIG5SurveyUser" table="tbl_big5_big5surveyuser" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<many-to-one name="assessor" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="assessee" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="survey" class="ntu.celt.eUreka2.modules.big5.BIG5Survey" column="big5Id" />
		<property name="startAssessTime" type="timestamp" />
		<property name="lastAssessTime" type="timestamp" />
		<property name="finished" type="boolean"/>
	    <property name="lastQuestionNum" type="integer"/>
	    <property name="resetCount" type="integer"/>
	   	<set name="questionScores" cascade="all,delete-orphan" order-by="orderNum">
	       <key><column name="big5UserId"  /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.big5.BQuestionScore" />
	    </set>
    	<property name="score1" type="double"  />
		<property name="score2" type="double"  />
		<property name="score3" type="double"  />
		<property name="score4" type="double"  />
		<property name="score5" type="double"  />
	</class>
<!-- Somsak 2018-08-12 ...End  -->


<!--  Ko Ko -->

<!-- /////////////////////////////////Team Effectiveness Personality Survey////////////////////////////////// -->
	   	
   	<class name="ntu.celt.eUreka2.modules.teameffectiveness.TEQuestionSet" table="tbl_te_tquestionset">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<property name="des" type="text" />
		<many-to-one name="owner" class="ntu.celt.eUreka2.entities.User"  />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<many-to-one name="school" class="ntu.celt.eUreka2.entities.School"  />
		<list name="questions" cascade="all,delete-orphan" >
	       <key>
	         <column name="questionset" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.teameffectiveness.TQuestion" />
	   </list>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.teameffectiveness.TQuestion" table="tbl_te_tquestion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="string" />
		<many-to-one name="questionset" class="ntu.celt.eUreka2.modules.teameffectiveness.TEQuestionSet" />
		<property name="number" type="integer" />
		<property name="dimension1" type="string" />
		<property name="dimension2" type="string" />
		<property name="dimension3" type="string" />
		<property name="dimension4" type="string" />
		<property name="dimension5" type="string" />
		<property name="dimension6" type="string" />
		<property name="dimension7" type="string" />
		<property name="dimension8" type="string" />
		<property name="dimension9" type="string" />
		<property name="dimension10" type="string" />
		<property name="dimension11" type="string" />
		<property name="dimension12" type="string" />
		<property name="dimension13" type="string" />
		<property name="dimension14" type="string" />
		<property name="dimension15" type="string" />
		
	</class>

	<class name="ntu.celt.eUreka2.modules.teameffectiveness.TEQuestion" table="tbl_te_tequestion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="string" />
		<property name="number" type="integer" />
	
		<property name="dimension1" type="string" />
		<property name="dimension2" type="string" />
		<property name="dimension3" type="string" />
		<property name="dimension4" type="string" />
		<property name="dimension5" type="string" />
		<property name="dimension6" type="string" />
		<property name="dimension7" type="string" />
		<property name="dimension8" type="string" />
		<property name="dimension9" type="string" />
		<property name="dimension10" type="string" />
		<property name="dimension11" type="string" />
		<property name="dimension12" type="string" />
		<property name="dimension13" type="string" />
		<property name="dimension14" type="string" />
		<property name="dimension15" type="string" />
		
	</class>
	
	<class name="ntu.celt.eUreka2.modules.teameffectiveness.TEDimension" table="tbl_te_dimension" >
		<id name="id" type="integer" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string"  />
		<property name="des" type="text" />
		<property name="colorCode" type="string"  />
		<property name="orderNum" type="integer"  />
		<property name="active" type="boolean"  />
		<property name="styleGroup" type="string"  />
		<property name="createTime" type="timestamp" />
		
	</class>
	
	
   <class name="ntu.celt.eUreka2.modules.teameffectiveness.TESurvey" table="tbl_te_survey">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project"  not-null="true" />
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="sdate" type="timestamp" />
		<property name="edate" type="timestamp" />
		<property name="orderNumber" type="integer" />
		<property name="released" type="boolean" />
		
		<many-to-one name="questionSet" class="ntu.celt.eUreka2.modules.teameffectiveness.TEQuestionSet" />
		<property name="questionSetName" type="string" />
		<list name="questions"  cascade="all,delete-orphan" >
	       <key>
	         <column name="te"  />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.teameffectiveness.TEQuestion" />
	    </list>
	    <set name="TEUsers" cascade="all,delete-orphan" >
	       <key><column name="teId" not-null="true" /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.teameffectiveness.TESurveyUser" />
	    </set>
   		<set name="daysToRemind" table="tbl_te_daystoremind">
	       <key><column name="teId" not-null="true" /></key>
	        <element type="integer" column="daysToRemind"></element>
	    </set>
	</class>

	<class name="ntu.celt.eUreka2.modules.teameffectiveness.TEQuestionScore" table="tbl_te_questionscore" >
		<id name="id" type="string" >
			<generator class="assigned" />
		</id>
		<many-to-one name="question" column="questionId" class="ntu.celt.eUreka2.modules.teameffectiveness.TEQuestion"  />
		<property name="score" type="integer"  />
		<property name="score1" type="integer"  />
		<property name="score2" type="integer"  />
		<property name="score3" type="integer"  />
		<property name="score4" type="integer"  />
		<property name="score5" type="integer"  />
		<property name="score6" type="integer"  />
		<property name="score7" type="integer"  />
		<property name="score8" type="integer"  />
		<property name="score9" type="integer"  />
		<property name="score10" type="integer"  />
		<property name="score11" type="integer"  />
		<property name="score12" type="integer"  />
		<property name="score13" type="integer"  />
		<property name="score14" type="integer"  />
		<property name="score15" type="integer"  />
		<property name="orderNum" type="integer"  />
		<many-to-one name="TEUser" column="teUserId" class="ntu.celt.eUreka2.modules.teameffectiveness.TESurveyUser"  />
	</class>
	
  
	
	<class name="ntu.celt.eUreka2.modules.teameffectiveness.TESurveyUser" table="tbl_te_tesurveyuser" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<many-to-one name="assessor" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="assessee" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="survey" class="ntu.celt.eUreka2.modules.teameffectiveness.TESurvey" column="teId" />
		<property name="startAssessTime" type="timestamp" />
		<property name="lastAssessTime" type="timestamp" />
		<property name="finished" type="boolean"/>
	    <property name="lastQuestionNum" type="integer"/>
	    <property name="resetCount" type="integer"/>
	   	<set name="questionScores" cascade="all,delete-orphan" order-by="orderNum">
	       <key><column name="teUserId"  /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.teameffectiveness.TEQuestionScore" />
	    </set>
    	<property name="score1" type="double"  />
		<property name="score2" type="double"  />
		<property name="score3" type="double"  />
		<property name="score4" type="double"  />
		<property name="score5" type="double"  />
		<property name="score6" type="double"  />
		<property name="score7" type="double"  />
		<property name="score8" type="double"  />
		<property name="score9" type="double"  />
		<property name="score10" type="double"  />
		<property name="score11" type="double"  />
		<property name="score12" type="double"  />
		<property name="score13" type="double"  />
		<property name="score14" type="double"  />
		<property name="score15" type="double"  />
	</class>

<!--  Ko Ko  -->
<!-- Somsak 2018-09-08 ...Start  -->
<!-- /////////////////////////////////Influencing and Persuading Style Profiler////////////////////////////////// -->	   	
   	<class name="ntu.celt.eUreka2.modules.ipsp.IQuestionSet" table="tbl_ipsp_iquestionset">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<property name="des" type="text" />
		<many-to-one name="owner" class="ntu.celt.eUreka2.entities.User"  />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<many-to-one name="school" class="ntu.celt.eUreka2.entities.School"  />
		<list name="questions" cascade="all,delete-orphan" >
	       <key>
	         <column name="questionset" not-null="true" />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.ipsp.IQuestion" />
	   </list>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.ipsp.IQuestion" table="tbl_ipsp_iquestion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="string" />
		<many-to-one name="questionset" class="ntu.celt.eUreka2.modules.ipsp.IQuestionSet" />
		<property name="number" type="integer" />
		<property name="dimension1" type="string" />
		<property name="dimension2" type="string" />
		<property name="dimension3" type="string" />
		<property name="dimension4" type="string" />
		
	</class>
	<class name="ntu.celt.eUreka2.modules.ipsp.IPSPQuestion" table="tbl_ipsp_ipspquestion" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="des" type="string" />
		<property name="number" type="integer" />
	
		<property name="dimension1" type="string" />
		<property name="dimension2" type="string" />
		<property name="dimension3" type="string" />
		<property name="dimension4" type="string" />
		
	</class>
	
	<class name="ntu.celt.eUreka2.modules.ipsp.IDimension" table="tbl_ipsp_idimension" >
		<id name="id" type="integer" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string"  />
		<property name="des" type="text" />
		<property name="colorCode" type="string"  />
		<property name="orderNum" type="integer"  />
		<property name="active" type="boolean"  />
		<property name="styleGroup" type="string"  />
		<property name="createTime" type="timestamp" />
		
	</class>
	
	
   <class name="ntu.celt.eUreka2.modules.ipsp.IPSPSurvey" table="tbl_ipsp_survey">
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<property name="name" type="string" />
		<many-to-one name="project" class="ntu.celt.eUreka2.entities.Project"  not-null="true" />
		<many-to-one name="creator" class="ntu.celt.eUreka2.entities.User" not-null="true" />
		<many-to-one name="editor" class="ntu.celt.eUreka2.entities.User" />
		<property name="cdate" type="timestamp" />
		<property name="mdate" type="timestamp" />
		<property name="sdate" type="timestamp" />
		<property name="edate" type="timestamp" />
		<property name="orderNumber" type="integer" />
		<property name="released" type="boolean" />
		<property name="questionType" not-null="true">		
			<type name="org.hibernate.type.EnumType">
         		<param name="enumClass">ntu.celt.eUreka2.modules.ipsp.IQuestionType</param>
     	 	</type>
   		</property>
   		<many-to-one name="group" column="groupId" class="ntu.celt.eUreka2.modules.group.Group"  />
	    
		
		<many-to-one name="questionSet" class="ntu.celt.eUreka2.modules.ipsp.IQuestionSet" />
		<property name="questionSetName" type="string" />
		<list name="questions"  cascade="all,delete-orphan" >
	       <key>
	         <column name="ipsp"  />
	       </key>
	       <list-index column="idx" />
	       <one-to-many class="ntu.celt.eUreka2.modules.ipsp.IPSPQuestion" />
	    </list>
	    <set name="ipspUsers" cascade="all,delete-orphan" >
	       <key><column name="ipspId" not-null="true" /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.ipsp.IPSPSurveyUser" />
	    </set>
   		<set name="daysToRemind" table="tbl_ipsp_daystoremind">
	       <key><column name="ipspId" not-null="true" /></key>
	        <element type="integer" column="daysToRemind"></element>
	    </set>
	</class>
	
	<class name="ntu.celt.eUreka2.modules.ipsp.IQuestionScore" table="tbl_ipsp_questionscore" >
		<id name="id" type="string" >
			<generator class="assigned" />
		</id>
		<many-to-one name="question" column="questionId" class="ntu.celt.eUreka2.modules.ipsp.IPSPQuestion"  />
		<property name="score" type="integer"  />
		<property name="score1" type="integer"  />
		<property name="score2" type="integer"  />
		<property name="score3" type="integer"  />
		<property name="score4" type="integer"  />
		<property name="orderNum" type="integer"  />
		<many-to-one name="ipspUser" column="ipspUserId" class="ntu.celt.eUreka2.modules.ipsp.IPSPSurveyUser"  />
	</class>
	
	  
	
	<class name="ntu.celt.eUreka2.modules.ipsp.IPSPSurveyUser" table="tbl_ipsp_ipspsurveyuser" >
		<id name="id" type="long" >
			<generator class="assigned" />
		</id>
		<many-to-one name="assessor" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="assessee" class="ntu.celt.eUreka2.entities.User" />
		<many-to-one name="survey" class="ntu.celt.eUreka2.modules.ipsp.IPSPSurvey" column="ipspId" />
		<property name="startAssessTime" type="timestamp" />
		<property name="lastAssessTime" type="timestamp" />
		<property name="finished" type="boolean"/>
	    <property name="lastQuestionNum" type="integer"/>
	    <property name="resetCount" type="integer"/>
	   	<set name="questionScores" cascade="all,delete-orphan" order-by="orderNum">
	       <key><column name="ipspUserId"  /></key>
	          <one-to-many  class="ntu.celt.eUreka2.modules.ipsp.IQuestionScore" />
	    </set>
    	<property name="score1" type="double"  />
		<property name="score2" type="double"  />
		<property name="score3" type="double"  />
		<property name="score4" type="double"  />
	</class>
<!-- Somsak 2018-09-08 ...End  -->


</hibernate-mapping>